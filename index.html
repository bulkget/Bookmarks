<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Bookmarks</title>
<style>
:root{
  --glass-bg:rgba(255,255,255,0.15);
  --glass-border:rgba(255,255,255,0.25);
  --accent:#007aff;
  --danger:#ff3b30;
  --text:#ffffff;
  --muted:#c4c7cc;
  --blur:20px;
}
*{box-sizing:border-box;font-family:-apple-system,system-ui,Roboto,sans-serif;}
body{
  margin:0;
  padding:32px 16px;
  background:linear-gradient(145deg,#0a0a0a,#1b1b1b);
  color:var(--text);
  min-height:100vh;
  display:flex;
  justify-content:center;
}
.wrap{
  width:100%;
  max-width:720px;
  display:flex;
  flex-direction:column;
  gap:18px;
}

/* ==== Glass Card ==== */
.card{
  background:var(--glass-bg);
  border:1px solid var(--glass-border);
  border-radius:24px;
  backdrop-filter:blur(var(--blur));
  box-shadow:0 8px 30px rgba(0,0,0,0.25);
  padding:22px;
}

/* ==== Header ==== */
h1{margin:0;font-size:28px;font-weight:700;text-align:left;}
.badge{
  align-self:flex-end;
  background:var(--glass-bg);
  border:1px solid var(--glass-border);
  border-radius:999px;
  padding:6px 14px;
  font-size:14px;
  color:var(--muted);
}

/* ==== Inputs ==== */
form{display:flex;flex-direction:column;gap:10px;margin-top:10px;}
input{
  background:var(--glass-bg);
  border:1px solid var(--glass-border);
  color:var(--text);
  border-radius:16px;
  padding:12px 16px;
  font-size:16px;
  backdrop-filter:blur(var(--blur));
  outline:none;
}
input:focus{border-color:var(--accent);}
button{
  border:none;
  border-radius:16px;
  padding:12px;
  background:linear-gradient(145deg,#007aff,#0a84ff);
  color:#fff;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
  transition:transform .2s,box-shadow .2s;
}
button:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,122,255,0.4);}
button:disabled{opacity:0.5;cursor:not-allowed;}

ul{list-style:none;margin:16px 0 0;padding:0;display:flex;flex-direction:column;gap:12px;}
li{
  display:flex;align-items:center;justify-content:space-between;
  background:var(--glass-bg);
  border:1px solid var(--glass-border);
  border-radius:18px;
  padding:14px 16px;
  backdrop-filter:blur(var(--blur));
  transition:background .3s;
}
li:hover{background:rgba(255,255,255,0.2);}
.sp{flex:1;cursor:pointer;min-width:0;}
.title{font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.url{font-size:13px;color:var(--muted);word-break:break-all;}
.del{
  background:rgba(255,59,48,0.2);
  border:1px solid rgba(255,59,48,0.4);
  color:#ff7b73;
  border-radius:12px;
  padding:8px 12px;
  cursor:pointer;
  font-size:14px;
  transition:background .2s;
}
.del:hover{background:rgba(255,59,48,0.4);}
</style>
</head>
<body>
<div class="wrap">
  <h1>Bookmarks</h1>
  <div class="badge" id="count">0 items</div>

  <div class="card">
    <form id="f" autocomplete="off">
      <input id="name" placeholder="Title (optional)">
      <input id="url" placeholder="https://example.com">
      <button id="add" type="submit" disabled>Add</button>
    </form>
    <ul id="list"></ul>
  </div>
</div>

<script>
(() => {
  const qs = id => document.getElementById(id);
  const nameI=qs('name'),urlI=qs('url'),addB=qs('add'),form=qs('f'),list=qs('list'),count=qs('count');
  const KEY='bookmarks_demo';
  const isURL=v=>/^https?:\/\/.+/i.test(v||''),esc=s=>(s||'').replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
  const host=u=>{try{return new URL(u).host}catch{return u}};
  let items=JSON.parse(localStorage.getItem(KEY)||'[]');
  const save=()=>localStorage.setItem(KEY,JSON.stringify(items));
  const updateCount=()=>count.textContent=`${items.length} item${items.length!==1?'s':''}`;
  const render=()=>{list.innerHTML='';items.forEach(addRow);updateCount();};
  const addRow=item=>{
    const li=document.createElement('li');
    li.innerHTML=`<div class="sp"><div class="title">${esc(item.name)||esc(host(item.url))}</div><div class="url">${esc(item.url)}</div></div><button class="del">Delete</button>`;
    li.querySelector('.sp').onclick=()=>location.href=item.url;
    li.querySelector('.del').onclick=()=>{items=items.filter(x=>x.id!==item.id);save();li.remove();updateCount();};
    list.prepend(li);
  };
  urlI.oninput=()=>addB.disabled=!isURL(urlI.value);
  form.onsubmit=e=>{
    e.preventDefault();
    const url=(urlI.value||'').trim();
    if(!isURL(url))return alert('URL must start with http(s)://');
    const item={id:Date.now()+Math.random().toString(36).slice(2,8),name:(nameI.value||'').trim(),url,ts:Date.now()};
    items.unshift(item);save();addRow(item);updateCount();nameI.value=urlI.value='';addB.disabled=true;
  };
  render();
})();
</script>
</body>
</html>
